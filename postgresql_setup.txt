Got it. Since you are running PostgreSQL in a Docker container on an Ubuntu machine and accessing it from a Windows machine using pgAdmin4, you need to follow these steps to install the `pgvector` extension and set up your database accordingly.

### Step-by-Step Guide

#### 1. Install `pgvector` Extension in the Docker Container

1. **Access your Docker container**:

   Open your terminal and attach to your running PostgreSQL Docker container:
   ```bash
   docker exec -it <container_name> /bin/bash
   ```

2. **Install necessary dependencies**:

   Inside the container, install the necessary development packages:
   ```bash
   apt-get update
   apt-get install -y postgresql-server-dev-all build-essential
   ```

3. **Download and install `pgvector`**:

   Clone the `pgvector` repository and install it:
   ```bash
   git clone https://github.com/pgvector/pgvector.git
   cd pgvector
   make
   make install
   ```

4. **Exit the container**:

   Exit the Docker container:
   ```bash
   exit
   ```

#### 2. Enable the `pgvector` Extension in PostgreSQL

1. **Connect to PostgreSQL using pgAdmin4**:

   - Open pgAdmin4 on your Windows machine.
   - Connect to your PostgreSQL database running in the Docker container on the Ubuntu machine.

2. **Enable the `pgvector` extension**:

   Open the Query Tool in pgAdmin4 and run the following SQL command:
   ```sql
   CREATE EXTENSION IF NOT EXISTS vector;
   ```

#### 3. Alter Your Table to Add the Vector Column

1. **In the Query Tool**, execute the following SQL statement to add the new columns to your existing table `new_table`:
   ```sql
   CREATE TABLE new_table (
    id SERIAL PRIMARY KEY,
    text_data TEXT NOT NULL,
    embeddings vector(512)
    );

   ```

2. **Verify the Table Structure**:

   Run the following SQL command to describe the table structure and ensure that the new columns are added:
   ```sql
   \d new_table
   ```

#### 4. Insert Data into the Table

1. **In the Query Tool**, execute the following SQL statement to insert a record into the table:
   ```sql
   INSERT INTO new_table (text_data, embeddings)
   VALUES (
       'This is a sample text.',
       '[0.1, 0.2, 0.3, ...]'::vector
   );
   ```

### Full Example

Here's the complete set of commands to follow:

#### Inside Docker Container

```bash
docker exec -it <container_name> /bin/bash
apt-get update
apt-get install -y postgresql-server-dev-all build-essential
git clone https://github.com/pgvector/pgvector.git
cd pgvector
make
make install
exit
```

#### In pgAdmin4

1. **Enable pgvector Extension**:
   ```sql
   CREATE EXTENSION IF NOT EXISTS vector;
   ```

2. **Alter the Table**:
   ```sql
   ALTER TABLE new_table
   ADD COLUMN text_data TEXT NOT NULL,
   ADD COLUMN embeddings vector(512);
   ```

3. **Insert Data**:
   ```sql
   INSERT INTO new_table (text_data, embeddings)
   VALUES (
       'This is a sample text.',
       '[0.1, 0.2, 0.3, ...]'::vector
   );
   ```

